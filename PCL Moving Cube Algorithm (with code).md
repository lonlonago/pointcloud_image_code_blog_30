#  First, the principle of the algorithm 

##  1. Process overview 

 Marching Cubes algorithm flow: 

##  2. Detailed process 

 ![avatar]( 20210606091636648.jpg) 

   The moving cube algorithm, pcl :: Marching Cubes algorithm, was first proposed by Willian E. Lorensen and Harvey E. Cline in 1987 in the paper "Marching Cubes: A High Resolution 3D Surface Construction Algorithm". In simple terms, this 3D reconstruction algorithm is a divide and conquer algorithm. The basic unit of divide and conquer is a small cube (dividing a small cube is equivalent to resampling in three-dimensional space, and the number of cubes to be divided is determined by yourself). A small cube has 8 vertices, and each vertex has two states, Inside and Outside. Determine whether the 8 vertices of the small cube are inside the target organ. If a vertex is inside the object, then mark it with a 0; if the vertex is outside the object, mark it with a 1. In each case, some isosurfaces can be generated within the small cube. The isosurfaces are generally generated by interpolation, which can be understood as generating 0 or more triangles located inside the cube. So the distribution of isosurfaces in a small cube may have multiple combinations in total. After taking into account the two cases of Rotation and Invertion symmetry, all 256 possible cases can be covered with 15 basic cubes. In addition, there are some supplementary modes.  

 ![avatar]( 20210606091717804.png) 

 ![avatar]( 20210606091819640.png) 

    However, simply reconstructing the three dimensions from these cube patterns will create a missing point situation, which is due to ambiguity. As shown in Figure 3, in the 2D case, different choices of the two connection methods in the diagram will lead to completely different results on the same image. After observation, it can be seen that this ambiguity only occurs on: one surface, if the two endpoints of one diagonal are greater than the threshold, and the two endpoints of the other diagonal are less than the threshold. This kind of surface is called the ambiguity surface in the cube. The reason for ambiguity is to equate the supplementary mode with the corresponding basic mode, which leads to the interleaving of the Direct type and the Reverse type on the ambiguity surface. Putting this problem on 3D creates the Hole problem. In order to avoid the Hole problem, two extended Marching Cubes algorithms are proposed.  

 ![avatar]( 20210606091919907.png) 

   The first is to connect all ambiguities by type Direct. This results in 23 patterns (see Figure 4).  

 ![avatar]( 20210606091959241.png) 

   The other approach is just the opposite, with all ambiguities of type Reverse and 23 patterns. The results of the two methods are compared in Figure 5.  

#  Code implementation 

  ```python  
After clicking on the GitHub Sponsor button above, you will obtain access permissions to my private code repository ( https://github.com/slowlon/my_code_bar ) to view this blog code. By searching the code number of this blog, you can find the code you need, code number is: 2024020309574274242
  ```  
#  III. Display of results 

 ![avatar]( 20200717100244351.png) 

